# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`ssh::client`](#sshclient): Class to install and configure ssh client.  Use this module to install and configure ssh client.
* [`ssh::params`](#sshparams): Class to manage flink parameters.  Dont include this class directly.
* [`ssh::server`](#sshserver): Class to install and configure ssh server.  Use this module to install and configure ssh server.

### Defined types

* [`ssh::user`](#sshuser): Class to install and configure ssh keys.  Use this module to install and configure ssh keys.

### Data types

* [`Ssh::PermitRootLogin`](#sshpermitrootlogin): Extended enum
* [`Ssh::UsePrivilegeSeparation`](#sshuseprivilegeseparation): Extended enum
* [`Ssh::YesNo`](#sshyesno): Binary enum

## Classes

### <a name="sshclient"></a>`ssh::client`

Class to install and configure ssh client.

Use this module to install and configure ssh client.

#### Examples

##### The `ssh::client` class installs the ssh client

```puppet
include ::ssh::client
```

#### Parameters

The following parameters are available in the `ssh::client` class:

* [`ciphers`](#ciphers)
* [`enable_ssh_key_sign`](#enable_ssh_key_sign)
* [`forward_agent`](#forward_agent)
* [`hostbased_authentication`](#hostbased_authentication)
* [`kex_algorithms`](#kex_algorithms)
* [`known_host_sssd`](#known_host_sssd)
* [`macs`](#macs)
* [`package_name`](#package_name)
* [`package_version`](#package_version)
* [`password_authentication`](#password_authentication)
* [`template`](#template)

##### <a name="ciphers"></a>`ciphers`

Data type: `Array`

List of ciphers that can be accepted.

Default value: `$::ssh::params::ciphers`

##### <a name="enable_ssh_key_sign"></a>`enable_ssh_key_sign`

Data type: `Ssh::YesNo`

Enables the use of the helper program ssh-keysign during HostbasedAuthentication.

Default value: `$::ssh::params::client_enable_ssh_key_sign`

##### <a name="forward_agent"></a>`forward_agent`

Data type: `Ssh::YesNo`

Specifies whether the connection to the authentication agent (if any) will be forwarded to the remote machine.

Default value: `$::ssh::params::client_forward_agent`

##### <a name="hostbased_authentication"></a>`hostbased_authentication`

Data type: `Ssh::YesNo`

Specifies whether to try rhosts based authentication with public key authentication.

Default value: `$::ssh::params::client_hostbased_authentication`

##### <a name="kex_algorithms"></a>`kex_algorithms`

Data type: `Array`

Key EXchange Algorithms.

Default value: `$::ssh::params::kex_algorithms`

##### <a name="known_host_sssd"></a>`known_host_sssd`

Data type: `Optional[Boolean]`

Use sssd to manage known host file.

Default value: `$::ssh::params::known_host_sssd`

##### <a name="macs"></a>`macs`

Data type: `Array`

Specifies the MAC (message authentication code) algorithms in order of preference.

Default value: `$::ssh::params::macs`

##### <a name="package_name"></a>`package_name`

Data type: `String`

Name of package to install.

Default value: `$::ssh::params::client_package`

##### <a name="package_version"></a>`package_version`

Data type: `String`

Version of example to install.

Default value: `$::ssh::params::client_package_version`

##### <a name="password_authentication"></a>`password_authentication`

Data type: `Ssh::YesNo`

Accept access using password.

Default value: `$::ssh::params::password_authentication`

##### <a name="template"></a>`template`

Data type: `String`

Template to use for config.

Default value: `$::ssh::params::client_config_template`

### <a name="sshparams"></a>`ssh::params`

Class to manage flink parameters.

Dont include this class directly.

### <a name="sshserver"></a>`ssh::server`

Class to install and configure ssh server.

Use this module to install and configure ssh server.

#### Examples

##### The `ssh::server` class installs and configures the sshd

```puppet
class { 'ssh::server':
  password_authentication => 'yes',
}
```

##### You can specify the port the sshd should listen to by including the class with this special syntax.

```puppet
class { 'ssh::server':
  port => 20009,
}
```

##### You can also restrict access for only certain users.

```puppet
class { 'ssh::server':
  allowed_users => ['attachmentgenie', 'manager'],
}
```

##### And you can permit root logins (not recommended) as permiting root logins could be a serious security issue. In most cases you should use something like ```sudo``` instead.

```puppet
class { 'ssh::server':
  permit_root_login => 'yes',
}
```

#### Parameters

The following parameters are available in the `ssh::server` class:

* [`accept_env`](#accept_env)
* [`address_family`](#address_family)
* [`allow_agent_forwarding`](#allow_agent_forwarding)
* [`allowed_users`](#allowed_users)
* [`allowed_groups`](#allowed_groups)
* [`authorized_keys_file`](#authorized_keys_file)
* [`authorized_keys_command`](#authorized_keys_command)
* [`authorized_keys_command_user`](#authorized_keys_command_user)
* [`banner_file`](#banner_file)
* [`banner_manage`](#banner_manage)
* [`banner_template`](#banner_template)
* [`compression`](#compression)
* [`ciphers`](#ciphers)
* [`client_alive_interval`](#client_alive_interval)
* [`client_alive_count_max`](#client_alive_count_max)
* [`deny_groups`](#deny_groups)
* [`debian_banner`](#debian_banner)
* [`gssapi_authentication`](#gssapi_authentication)
* [`gssapi_keyexchange`](#gssapi_keyexchange)
* [`gssapi_cleanupcredentials`](#gssapi_cleanupcredentials)
* [`host_keys`](#host_keys)
* [`kerberos_authentication`](#kerberos_authentication)
* [`kex_algorithms`](#kex_algorithms)
* [`macs`](#macs)
* [`manage_service`](#manage_service)
* [`match`](#match)
* [`max_auth_retries`](#max_auth_retries)
* [`max_sessions`](#max_sessions)
* [`max_startups`](#max_startups)
* [`package`](#package)
* [`package_version`](#package_version)
* [`password_authentication`](#password_authentication)
* [`password_authentication_groups`](#password_authentication_groups)
* [`password_authentication_users`](#password_authentication_users)
* [`permit_root_login`](#permit_root_login)
* [`permit_tunnel`](#permit_tunnel)
* [`permit_tty`](#permit_tty)
* [`permit_tty_users`](#permit_tty_users)
* [`permit_user_environment`](#permit_user_environment)
* [`port`](#port)
* [`gateway_ports`](#gateway_ports)
* [`print_motd`](#print_motd)
* [`pubkey_authentication`](#pubkey_authentication)
* [`server_key_bits`](#server_key_bits)
* [`service_name`](#service_name)
* [`subsystem_sftp`](#subsystem_sftp)
* [`syslog_facility`](#syslog_facility)
* [`syslog_level`](#syslog_level)
* [`template`](#template)
* [`use_dns`](#use_dns)
* [`use_pam`](#use_pam)
* [`use_privilege_separation`](#use_privilege_separation)
* [`x11_forwarding`](#x11_forwarding)

##### <a name="accept_env"></a>`accept_env`

Data type: `String`

Specifies what environment variables sent by the client will be copied into the session's environ.

Default value: `$::ssh::params::accept_env`

##### <a name="address_family"></a>`address_family`

Data type: `String`

Specifies which address family should be used by sshd(8).

Default value: `$::ssh::params::address_family`

##### <a name="allow_agent_forwarding"></a>`allow_agent_forwarding`

Data type: `Ssh::YesNo`

Specifies whether ssh-agent forwarding is permitted.

Default value: `$::ssh::params::allow_agent_forwarding`

##### <a name="allowed_users"></a>`allowed_users`

Data type: `Array`

If specified, login is allowed only for user names that match one of the patterns.

Default value: `$::ssh::params::allowed_users`

##### <a name="allowed_groups"></a>`allowed_groups`

Data type: `Array`

If specified, login is allowed only for users whose primary group or supplementary group list matches one of the pattern.

Default value: `$::ssh::params::allowed_groups`

##### <a name="authorized_keys_file"></a>`authorized_keys_file`

Data type: `Array`

Specifies the file that contains the public keys that can be used for user authentication.

Default value: `$::ssh::params::authorized_keys_file`

##### <a name="authorized_keys_command"></a>`authorized_keys_command`

Data type: `Optional[String]`

Specifies a program to be used for lookup of the user's public keys.

Default value: `$::ssh::params::authorized_keys_command`

##### <a name="authorized_keys_command_user"></a>`authorized_keys_command_user`

Data type: `Optional[String]`

Specifies the user under whose account the AuthorizedKeysCommand is run.

Default value: `$::ssh::params::authorized_keys_command_user`

##### <a name="banner_file"></a>`banner_file`

Data type: `String`

The contents of the specified file are sent to the remote user before authentication is allowed.

Default value: `$::ssh::params::banner_file`

##### <a name="banner_manage"></a>`banner_manage`

Data type: `Boolean`

Manage the banner file.

Default value: `$::ssh::params::banner_manage`

##### <a name="banner_template"></a>`banner_template`

Data type: `String`

Template to use for banner file.

Default value: `$::ssh::params::banner_template`

##### <a name="compression"></a>`compression`

Data type: `Optional[String]`

Specifies whether compression is allowed, or delayed until the user has authenticated successfully.

Default value: `$::ssh::params::compression`

##### <a name="ciphers"></a>`ciphers`

Data type: `Array`

Specifies the ciphers allowed for protocol version 2.

Default value: `$::ssh::params::ciphers`

##### <a name="client_alive_interval"></a>`client_alive_interval`

Data type: `Integer`

Sets a timeout interval in seconds after which if no data has been received from the client.

Default value: `$::ssh::params::client_alive_interval`

##### <a name="client_alive_count_max"></a>`client_alive_count_max`

Data type: `Integer`

Sets the number of client alive messages (see below) which may be sent without sshd(8) receiving any messages back from the client.

Default value: `$::ssh::params::client_alive_count_max`

##### <a name="deny_groups"></a>`deny_groups`

Data type: `Array`

Login is disallowed for users whose primary group or supplementary group list matches one of the patterns.

Default value: `$::ssh::params::deny_groups`

##### <a name="debian_banner"></a>`debian_banner`

Data type: `Optional[Ssh::YesNo]`

Specifies whether the distribution-specified extra version suffix is included during initial protocol handshake.

Default value: `$::ssh::params::debian_banner`

##### <a name="gssapi_authentication"></a>`gssapi_authentication`

Data type: `Ssh::YesNo`

Specifies whether user authentication based on GSSAPI is allowed.

Default value: `$::ssh::params::gssapi_authentication`

##### <a name="gssapi_keyexchange"></a>`gssapi_keyexchange`

Data type: `Ssh::YesNo`

Specifies whether key exchange based on GSSAPI is allowed.

Default value: `$::ssh::params::gssapi_keyexchange`

##### <a name="gssapi_cleanupcredentials"></a>`gssapi_cleanupcredentials`

Data type: `Ssh::YesNo`

Specifies whether to automatically destroy the user's credentials cache on logout.

Default value: `$::ssh::params::gssapi_cleanupcredentials`

##### <a name="host_keys"></a>`host_keys`

Data type: `Array`

Specifies a file containing a private host key used by SSH.

Default value: `$::ssh::params::host_keys`

##### <a name="kerberos_authentication"></a>`kerberos_authentication`

Data type: `Ssh::YesNo`

Specifies whether the password provided by the user for PasswordAuthentication will be validated through the Kerberos KDC.

Default value: `$::ssh::params::kerberos_authentication`

##### <a name="kex_algorithms"></a>`kex_algorithms`

Data type: `Array`

Specifies the available KEX (Key Exchange)	algorithms.

Default value: `$::ssh::params::kex_algorithms`

##### <a name="macs"></a>`macs`

Data type: `Array`

Specifies the available MAC (message authentication code) algorithms.

Default value: `$::ssh::params::macs`

##### <a name="manage_service"></a>`manage_service`

Data type: `Boolean`

Manage sshd service.

Default value: `$::ssh::params::manage_service`

##### <a name="match"></a>`match`

Data type: `Hash`

# @param password_authentication_users Introduces a conditional block. If all of the criteria on the Match line are satisfied, the keywords on the following lines override those set in the global section of the config file, until either another Match line or the end of the file.

Default value: `$::ssh::params::match`

##### <a name="max_auth_retries"></a>`max_auth_retries`

Data type: `Integer`

Specifies the maximum number of authentication attempts permitted per connection.

Default value: `$::ssh::params::max_auth_retries`

##### <a name="max_sessions"></a>`max_sessions`

Data type: `Integer`

Specifies the maximum number of open sessions permitted per network connection.

Default value: `$::ssh::params::max_sessions`

##### <a name="max_startups"></a>`max_startups`

Data type: `String`

Specifies the maximum number of concurrent unauthenticated connections to the SSH daemon.

Default value: `$::ssh::params::max_startups`

##### <a name="package"></a>`package`

Data type: `String`

Package name.

Default value: `$::ssh::params::server_package`

##### <a name="package_version"></a>`package_version`

Data type: `String`

Standard puppet package ensure.

Default value: `$::ssh::params::server_package_version`

##### <a name="password_authentication"></a>`password_authentication`

Data type: `Ssh::YesNo`

Specifies whether password authentication is allowed.

Default value: `$::ssh::params::password_authentication`

##### <a name="password_authentication_groups"></a>`password_authentication_groups`

Data type: `Array`

Introduces a conditional block. If all of the criteria on the Match line are satisfied, the keywords on the following lines override those set in the global section of the config file, until either another Match line or the end of the file.

Default value: `$::ssh::params::password_authentication_groups`

##### <a name="password_authentication_users"></a>`password_authentication_users`

Data type: `Array`

Introduces a conditional block. If all of the criteria on the Match line are satisfied, the keywords on the following lines override those set in the global section of the config file, until either another Match line or the end of the file.

Default value: `$::ssh::params::password_authentication_users`

##### <a name="permit_root_login"></a>`permit_root_login`

Data type: `Ssh::PermitRootLogin`

Specifies whether root can log in using ssh.

Default value: `$::ssh::params::permit_root_login`

##### <a name="permit_tunnel"></a>`permit_tunnel`

Data type: `Ssh::YesNo`

Specifies whether tun(4) device forwarding is allowed.

Default value: `$::ssh::params::permit_tunnel`

##### <a name="permit_tty"></a>`permit_tty`

Data type: `Optional[Ssh::YesNo]`

Specifies whether pty(4) allocation is permitted.

Default value: `$::ssh::params::permit_tty`

##### <a name="permit_tty_users"></a>`permit_tty_users`

Data type: `Hash`

Introduces a conditional block. If all of the criteria on the Match line are satisfied, the keywords on the following lines override those set in the global section of the config file, until either another Match line or the end of the file.

Default value: `$::ssh::params::permit_tty_users`

##### <a name="permit_user_environment"></a>`permit_user_environment`

Data type: `Ssh::YesNo`

Specifies whether ~/.ssh/environment and environment= options in ~/.ssh/authorized_keys are	processed by sshd.

Default value: `$::ssh::params::permit_user_environment`

##### <a name="port"></a>`port`

Data type: `String`

Specifies the port	number that sshd listens on.

Default value: `$::ssh::params::port`

##### <a name="gateway_ports"></a>`gateway_ports`

Data type: `Ssh::YesNo`

Specifies whether remote hosts are	allowed	to connect to ports forwarded for the client.

Default value: `$::ssh::params::gateway_ports`

##### <a name="print_motd"></a>`print_motd`

Data type: `Ssh::YesNo`

Specifies whether sshd(8) should print /etc/motd when a user logs in	interactively.

Default value: `$::ssh::params::print_motd`

##### <a name="pubkey_authentication"></a>`pubkey_authentication`

Data type: `Ssh::YesNo`

Specifies whether public key authentication is allowed.

Default value: `$::ssh::params::pubkey_authentication`

##### <a name="server_key_bits"></a>`server_key_bits`

Data type: `String`

Defines the number	of bits	in the ephemeral protocol version 1 server key.

Default value: `$::ssh::params::server_key_bits`

##### <a name="service_name"></a>`service_name`

Data type: `String`

Ssh service name.

Default value: `$::ssh::params::service_name`

##### <a name="subsystem_sftp"></a>`subsystem_sftp`

Data type: `String`

Configures	an external subsystem for sftp.

Default value: `$::ssh::params::subsystem_sftp`

##### <a name="syslog_facility"></a>`syslog_facility`

Data type: `String`

Gives the facility	code that is used when logging messages	from sshd.

Default value: `$::ssh::params::syslog_facility`

##### <a name="syslog_level"></a>`syslog_level`

Data type: `String`

Gives the verbosity level that is used when logging messages from sshd.

Default value: `$::ssh::params::syslog_level`

##### <a name="template"></a>`template`

Data type: `String`

Template to use for config.

Default value: `$::ssh::params::server_config_template`

##### <a name="use_dns"></a>`use_dns`

Data type: `Ssh::YesNo`

pecifies whether sshd(8) should look up the remote host name, and to check that the resolved host name for the remote IP address maps back to the very same	IP address.

Default value: `$::ssh::params::use_dns`

##### <a name="use_pam"></a>`use_pam`

Data type: `Ssh::YesNo`

Enables the Pluggable Authentication Module interface.

Default value: `$::ssh::params::use_pam`

##### <a name="use_privilege_separation"></a>`use_privilege_separation`

Data type: `Ssh::UsePrivilegeSeparation`

Specifies whether sshd(8) separates privileges by creating	an unprivileged child	process	to deal	with incoming network traffic.

Default value: `$::ssh::params::use_privilege_separation`

##### <a name="x11_forwarding"></a>`x11_forwarding`

Data type: `Ssh::YesNo`

Specifies whether X11 forwarding is permitted.

Default value: `$::ssh::params::x11_forwarding`

## Defined types

### <a name="sshuser"></a>`ssh::user`

Class to install and configure ssh keys.

Use this module to install and configure ssh keys.

#### Examples

##### You can use `ssh::user` to add an authorized ssh key to an existing user for effortless authentication with ssh.

```puppet
ssh::user { 'attachmentgenie':
  key     => 'a8a7dgf7ad8j13g',
  comment => 'laptop',
}
```

#### Parameters

The following parameters are available in the `ssh::user` defined type:

* [`key`](#key)
* [`comment`](#comment)
* [`ensure`](#ensure)
* [`user`](#user)

##### <a name="key"></a>`key`

Data type: `String`

public key to trust.

##### <a name="comment"></a>`comment`

Data type: `Optional[String]`

Comment to save with public key.

Default value: ``undef``

##### <a name="ensure"></a>`ensure`

Data type: `String`

Ensure public key.

Default value: `present`

##### <a name="user"></a>`user`

Data type: `Optional[String]`

User the key belongs to.

Default value: ``undef``

## Data types

### <a name="sshpermitrootlogin"></a>`Ssh::PermitRootLogin`

Extended enum

Alias of

```puppet
Enum['yes', 'no', 'prohibit-password', 'without-password', 'forced-commands-only']
```

### <a name="sshuseprivilegeseparation"></a>`Ssh::UsePrivilegeSeparation`

Extended enum

Alias of

```puppet
Enum['yes', 'no', 'sandbox']
```

### <a name="sshyesno"></a>`Ssh::YesNo`

Binary enum

Alias of

```puppet
Enum['yes', 'no']
```

